{% load static %} 

<!DOCTYPE html> 
<html lang="en"> 
    <head> 
        <meta charset="utf-8"/> 
        <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
        <title>
            QualiTrack
        </title> 
        
        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"> 
        <!-- Font Awesome (icons) --> 
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet"> 
        <!-- Custom CSS --> 
        <link rel="stylesheet" href="{% static 'qa.css' %}"> 
    </head> 

    <body class="bg-light"> 
        <div class="container py-4"> 
            <h1 class="mb-4 text-center text-primary"> 
                <i class="fa-solid fa-clipboard-check"></i>
                 QualiTrack
            </h1> 

            <!-- Navigation Buttons --> 
            <div class="d-flex justify-content-center gap-2 mb-4 flex-wrap"> 
                <button class="btn btn-outline-primary" onclick="showSection('userstories')"> 
                    <i class="fa-solid fa-book-open"></i> 
                    User Stories
                </button> 
                <button class="btn btn-outline-danger" onclick="showSection('defects')"> 
                    <i class="fa-solid fa-bug"></i> 
                    Defects 
                </button> 
                <!--button class="btn btn-outline-success" onclick="showSection('testcases')"> 
                    <i class="fa-solid fa-vial"></i> 
                    Test Cases 
                </button> 
                <button class="btn btn-outline-warning" onclick="showSection('efforts')"> 
                    <i class="fa-solid fa-hourglass-half"></i> 
                    Efforts 
                </button--> 
                <button class="btn btn-outline-dark" onclick="showSection('upload')"> 
                    <i class="fa-solid fa-upload"></i> 
                    Upload Files 
                </button> 
            </div> 

            <!-- Sections --> 

            <!-- User Stories-->
            <div id="userstories" class="section card shadow-sm p-4 mb-4" > 
                <h3 class="text-primary mb-3">
                    <i class="fa-solid fa-book-open"></i> 
                    User Stories
                </h3> 
                <form id="userstories-form" class="row g-3" data-endpoint="{% url 'userstories' %}"> 
                    <div class="col-md-6"> 
                        <label for="sprint" class="form-label">
                            Sprint
                        </label> 
                        <select name="sprint" id="sprint" class="form-select"> 
                            <option value="">
                                -- All --
                            </option> 
                            {% for sprint in sprints %} 
                            <option value="{{ sprint.id }}">
                                {{ sprint.name }}
                            </option> 
                            {% endfor %} 
                        </select> 
                    </div> 
                    <div class="col-md-6 d-flex align-items-end"> 
                        <button type="submit" class="btn btn-primary w-100">
                            <i class="fa-solid fa-search"></i> 
                            Submit
                        </button> 
                    </div> 
                </form> 
                <div id="userstories-table" class="mt-4"></div> 
            </div> 

            <!-- Defects-->
            <div id="defects" class="section card shadow-sm p-4 mb-4"> 
                <h3 class="text-danger mb-3">
                    <i class="fa-solid fa-bug"></i> 
                    Defects
                </h3> 
                <form id="defects-form" class="row g-3" data-endpoint="{% url 'defects' %}"> 
                    <div class="col-md-4"> 
                        <label for="sprint_def" class="form-label">
                            Sprint
                        </label> 
                        <select name="sprint" id="sprint_def" class="form-select"> 
                            <option value="">
                                -- All --
                            </option> 
                            {% for sprint in sprints %} 
                            <option value="{{ sprint.id }}">
                                {{ sprint.name }}
                            </option> 
                            {% endfor %} 
                        </select> 
                    </div> 
                    <div class="col-md-4"> 
                        <label for="user_story_def" class="form-label">
                            User Story
                        </label> 
                        <select name="user_story" id="user_story_def" class="form-select"> 
                            <option value="">
                                -- All --
                            </option> 
                            {% for story in all_stories %} 
                            <option value="{{ story.id }}">
                                {{ story.title }}
                            </option> 
                            {% endfor %} 
                        </select> 
                    </div> 
                    <div class="col-md-4"> 
                        <label for="status_def" class="form-label">
                            Status
                        </label> 
                        <select name="status" id="status_def" class="form-select"> 
                            <option value="">
                                -- All --
                            </option> 
                            {% for s in defect_status %} 
                            <option value="{{ s }}">
                                {{ s }}
                            </option> 
                            {% endfor %} 
                        </select> 
                    </div> 
                    <div class="col-12"> 
                        <button type="submit" class="btn btn-danger w-100">
                            <i class="fa-solid fa-search"></i> 
                            Submit
                        </button> 
                    </div> 
                </form> 
                <div id="defects-table" class="mt-4"></div> 
            </div> 
            
            <!-- Test Cases-->
            <div id="testcases" class="section card shadow-sm p-4 mb-4"> 
                <h3 class="text-success mb-3">
                    <i class="fa-solid fa-vial"></i> 
                    Test Cases
                </h3> 
                <form id="testcases-form" class="row g-3" data-endpoint="{% url 'testcases' %}"> 
                    <div class="col-md-8"> 
                        <label for="story_tc" class="form-label">
                            User Story
                        </label> 
                        <select name="user_story" id="story_tc" class="form-select"> 
                            <option value="">
                                -- All --
                            </option> 
                            {% for story in all_stories %} 
                            <option value="{{ story.id }}">
                                {{ story.title }}
                            </option> 
                            {% endfor %} 
                        </select> 
                    </div> 
                    <div class="col-md-4 d-flex align-items-end"> 
                        <button type="submit" class="btn btn-success w-100">
                            <i class="fa-solid fa-search"></i> 
                            Submit
                        </button> 
                    </div> 
                </form> 
                <div id="testcases-table" class="mt-4"></div> 
            </div> 
            
            <!--Efforts-->
            <div id="efforts" class="section card shadow-sm p-4 mb-4" data-endpoint="{% url 'efforts' %}"> 
                <h3 class="text-warning mb-3">
                    <i class="fa-solid fa-hourglass-half"></i> 
                    Efforts
                </h3> 
                <form id="efforts-form" class="row g-3"> 
                    <div class="col-md-8"> 
                        <label for="story_effort" class="form-label">
                            User Story
                        </label> 
                        <select name="user_story" id="story_effort" class="form-select"> 
                            <option value="">
                                -- All --
                            </option> 
                            {% for story in all_stories %} 
                            <option value="{{ story.id }}">
                                {{ story.title }}
                            </option> 
                            {% endfor %} 
                        </select> 
                    </div> 
                    <div class="col-md-4 d-flex align-items-end"> 
                        <button type="submit" class="btn btn-warning w-100">
                            <i class="fa-solid fa-search"></i> 
                            Submit
                        </button> 
                    </div> 
                </form> 
                <div id="efforts-table" class="mt-4"></div> 
            </div> 
            
            
            <!--Upload files-->
            <div id="upload" class="section card shadow-sm p-4 mb-4"> 
                <h3 class="text-dark mb-3">
                    <i class="fa-solid fa-upload"></i> 
                    Upload Excel File
                </h3> 
                <form id="upload-form" enctype="multipart/form-data" method="post" data-upload-url="{% url 'upload_file' %}" class="row g-3"> 
                    {% csrf_token %} 
                    <div class="col-md-8"> 
                        <input type="file" name="file" id="file" accept=".xlsx" class="form-control" required> 
                    </div> 
                    <div class="col-md-4"> 
                        <button type="submit" class="btn btn-dark w-100">
                            <i class="fa-solid fa-upload"></i> 
                            Upload
                        </button> 
                    </div> 
                </form> 
            </div> 
        </div>
        
        
        <!-- Custom JS --> 
        <script src="{% static 'qa.js' %}"></script> 
         
        <!-- Bootstrap JS --> 
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script> 
    </body> 
</html>
